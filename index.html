<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Debbi's "Are You Trapped or Free" Quiz</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
      background: #f9f9f9;
    }
    h1 {
      text-align: center;
      font-size: 2.2rem;
    }
    .intro {
      text-align: center;
      font-style: italic;
      margin-top: 1rem;
      margin-bottom: 3rem;
      line-height: 1.6;
    }
    .question {
      margin-bottom: 1.5rem;
    }
    label {
      display: block;
      margin: 0.5rem 0;
    }
    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 0.5rem;
    }
    .options label {
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }
    button {
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      margin-top: 1.5rem;
      display: block;
      margin-left: auto;
      margin-right: auto;
      cursor: pointer;
    }
    #result {
      margin-top: 2rem;
      font-weight: bold;
      text-align: center;
      font-size: 1.2rem;
      white-space: pre-line;
    }
    #shareWhatsApp {
      display: none;
      text-align: center;
      margin-top: 1.5rem;
    }
    canvas {
      margin: 2rem auto;
      display: block;
    }
    #quadrantDescriptions {
      margin-top: 3rem;
    }
    #quadrantDescriptions h3 {
      margin-top: 1.5rem;
    }
  </style>
</head>
<body>
  <h1>Debbi's "Are You Trapped or Free" Quiz</h1>
  <p class="intro">
    Are you moving through life freely, or do you feel stuck in a place you didn’t choose?<br>
    Do you wake with a sense of joy, or has that feeling quietly slipped away?<br><br>
    This self-assessment invites you to pause and reflect—on your happiness, your freedom, and the space between. There are no right answers, only a clearer picture of the path you're on.
  </p>

  <form id="quizForm">
    <h2>Happiness Questions</h2>
    <div id="happiness"></div>

    <h2 style="margin-top: 3rem;">Freedom Questions</h2>
    <div id="freedom"></div>

    <button type="submit">Calculate My Quadrant</button>
  </form>

  <div id="result"></div>

  <div id="shareWhatsApp">
    <button onclick="shareOnWhatsApp()">Share on WhatsApp</button>
  </div>

  <canvas id="quadrantChart" width="400" height="400"></canvas>

  <div id="quadrantDescriptions">
    <h2>Quadrant Descriptions</h2>

    <h3>1. The Resigned</h3>
    <p><strong>Trapped and Unhappy</strong><br>You may feel stuck in your current circumstances and deeply dissatisfied...</p>

    <h3>2. The Restless</h3>
    <p><strong>Untrapped and Unhappy</strong><br>You are free to make changes in your life — and you know it — but you still struggle to find contentment...</p>

    <h3>3. The Settled</h3>
    <p><strong>Trapped and Happy</strong><br>You may have made commitments or taken on responsibilities that limit your freedom, but you’ve found peace in them...</p>

    <h3>4. The Free and Fulfilled</h3>
    <p><strong>Untrapped and Happy</strong><br>You enjoy both emotional well-being and the freedom to choose your path...</p>
  </div>

  <script>
    const happinessQuestions = [
      "I feel generally satisfied with how my life is going.",
      "I often feel a sense of purpose in my day-to-day activities.",
      "I wake up looking forward to the day ahead.",
      "I feel emotionally fulfilled in my relationships.",
      "I rarely feel weighed down by anxiety or stress.",
      "I experience joy or contentment regularly.",
      "I’m proud of the person I’m becoming.",
      "I feel at peace with the choices I’ve made.",
      "I find beauty or meaning in small things.",
      "I feel I’m on the right path in life."
    ];

    const freedomQuestions = [
      "I feel free to make big changes in my life if I wanted to.",
      "I have the resources or support I need to pursue new directions.",
      "I rarely feel stuck in a situation I can’t change.",
      "I’ve chosen this life, rather than just fallen into it.",
      "I can express myself freely, without fear of judgement.",
      "I have a strong sense of agency over my future.",
      "I feel in control of my time and how I spend it.",
      "I can walk away from situations that don’t serve me.",
      "I’m not overly dependent on others’ expectations.",
      "I feel I could reinvent myself if I chose to."
    ];

    const ratingLabels = {
      1: "Strongly Disagree",
      2: "Disagree",
      3: "Neutral",
      4: "Agree",
      5: "Strongly Agree"
    };

    const feedbackText = {
      "The Resigned": "You may feel stuck in your current circumstances and deeply dissatisfied...",
      "The Restless": "You are free to make changes in your life — and you know it — but you still struggle to find contentment...",
      "The Settled": "You may have made commitments or taken on responsibilities that limit your freedom, but you’ve found peace in them...",
      "The Free and Fulfilled": "You enjoy both emotional well-being and the freedom to choose your path..."
    };

    const quadrantLabels = {
      "The Resigned": "The Resigned (Trapped and Unhappy)",
      "The Restless": "The Restless (Untrapped and Unhappy)",
      "The Settled": "The Settled (Trapped and Happy)",
      "The Free and Fulfilled": "The Free and Fulfilled (Untrapped and Happy)"
    };

    const addQuestions = (containerId, questions, prefix) => {
      const container = document.getElementById(containerId);
      questions.forEach((q, i) => {
        const div = document.createElement('div');
        div.className = 'question';
        div.innerHTML = `
          <label>${i + 1}. ${q}</label>
          <div class="options">
            ${[1, 2, 3, 4, 5].map(val => `
              <label>
                <input type="radio" name="${prefix}${i}" value="${val}" required> ${val} - ${ratingLabels[val]}
              </label>
            `).join('')}
          </div>
        `;
        container.appendChild(div);
      });
    };

    addQuestions('happiness', happinessQuestions, 'h');
    addQuestions('freedom', freedomQuestions, 'f');

    document.getElementById('quizForm').addEventListener('submit', function(e) {
      e.preventDefault();
      let hScore = 0, fScore = 0;

      for (let i = 0; i < 10; i++) {
        hScore += parseInt(document.querySelector(`input[name="h${i}"]:checked`).value);
        fScore += parseInt(document.querySelector(`input[name="f${i}"]:checked`).value);
      }

      let quadrant = '';
      if (hScore <= 30 && fScore <= 30) quadrant = 'The Resigned';
      else if (hScore <= 30 && fScore > 30) quadrant = 'The Restless';
      else if (hScore >
